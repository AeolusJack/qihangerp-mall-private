# 微服务打包
该版本为**微服务版本**打包项目，打包前需要改动几个地方：
+ 修改`SecurityConfig`类的登出url：`http.logout().logoutUrl("/logout").logoutSuccessHandler(logoutSuccessHandler);`

## 微服务结构说明
**微服务架构依赖Nacos作为配置中心和服务注册中心**

#### 2.1 gateway
网关项目，负责微服务接口转发，前端统一通过网关调用其他微服务接口；

采用`gateway`进行api分发，引入Sentinel进行流量治理。

#### 2.2 sys-api
项目系统微服务，主要功能包括：

端口：`7001`

+ 用户
+ 菜单
+ 字典

#### 2.3 oms-api
oms主功能微服务，主要功能包括：

端口：`7002`

+ 商品管理
+ 队列消息处理（订单消息、退款消息）
+ 订单接口
+ 退款接口
+ 店铺接口

#### 2.4 erp-api
erp相关微服务，主要功能包括：

端口：`7003`
+ 采购管理
+ 仓库仓位设置
+ 库存相关操作


#### 2.5 op
开放接口微服务，主要功能包括：

端口：`7000`

+ 外部ERP接口
+ 外部订单、售后拉取接口

**签名规则**
+ 使用 `SHA-256` 生成签名
+ body参数全部参与签名，body参数组合成`id=3&json=kkk`这种格式
+ 时间戳（秒）不能超过10分钟
+ 最后签名字符串：`appKey+body+时间戳`

#### 2.6 open-api
电商开放平台接口微服务，目前支持：淘宝天猫、京东、拼多多、抖店、微信小店


